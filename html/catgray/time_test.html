<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

</body>
<script>
    function replace_city(data){
        data.match("市");
        console.log(data);
    }
    replace_city("郑州市");
    GetRTime("2019-01-04T02:50:36.000+0000");
   /* setInterval(function () {
        GetRTime('2019-01-04T02:50:36.000+0000');
    },1000)*/
   /* //当前工作时长++
    if($(".tot_time>.add_time"))
    {
        // 换个思路
        var tot_time=$(".tot_time>.add_time").text();
        tot_time=tot_time.split(":");
        var sec=tot_time[2];
        var min=tot_time[1];
        var hour=tot_time[0];
        setInterval(function () {
            sec++;
            if(sec>60){
                sec=0;
                min++;
            }
            if(min>60){
                hour++;
                min=0;
            }
            var time=hour+":"+min+":"+sec;
            $(".tot_time>.add_time").text(time);
        },1000);
    }*/
    //判断还有多少时间结束
    var  tl;
    function GetRTime(data) {
        //结束时间
        var EndTime = new Date(data).getTime();
        console.log(EndTime);
        //当前时间
        var NowTime = new Date().getTime();
        console.log(NowTime);
        var titm = "l";
        if (EndTime < NowTime) {
            titm = "活动已经到期了";
           //window.clearInterval(t1);
        } else {
            //结束时间减去当前时间剩余的毫秒数
            //var t = EndTime.getTime() - NowTime.getTime();
           var t = EndTime-NowTime;
            var h = Math.floor(t / 1000 / 60 / 60);//时
            var m = Math.floor(t / 1000 / 60 % 60);//分
            var s = Math.floor(t / 1000 % 60);//秒
           /* if (h > 2) {
                //window.clearInterval(t1);
                titm = "活动正在进行中";
            } else*/
            if (h == 0 && m == 0 && s == 0) {
              //window.clearInterval(t1);
                titm = "活动已经到期了"
            } else {
                h < 10 ? h = '0' + h : h = h;//判断是否小于10，是则在时间前面加0
                m < 10 ? m = '0' + m : m = m;
                s < 10 ? s = '0' + s : s = s;
                titm = h + ":" + m + ":" + s ;
               /* tl=setInterval(function () {
                    s--;
                    if(s<0){
                        s=60;
                        s--
                    }
                    if(m<0){
                        m--;
                        m=0;
                    }
                    if(h<0){
                        titm='活动已结束';
                    }
                },1000)*/
            }
        }

    }

</script>
</html>